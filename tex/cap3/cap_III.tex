\chapter{Fundamentação Teórica}
\label{cap:tecnologiasUtilizadas}
Neste capitulo, será apresentado as tecnologias utilizadas no desenvolvimento
do aplicativo e sua API. Essas tecnologias apoiam o programador e facilita o
desenvolvimento através do uso de API's e frameworks já desenvolvidos.

\section{Android}
\label{sec:adroid}

Desenvolvido especialmente para dispositivos móveis, como aparelhos celulares e tablets, e agora também suportando dispositivos "vestíveis" (\textit{wearables}), como relógios, o Android é uma plataforma composta por um sistema operacional, \textit{middlewares} e um conjunto de aplicativos principais, como os contatos, o navegador de internet e o telefone propriamente dito. Além disso, existe o Android SDK, que é um conjunto de ferramentas e \textit{APIs} para o desenvolvimento de aplicativos para a plataforma, utilizando a linguagem Java \cite{monteirogoogle}.

\begin{figure}[h]
\centering
\includegraphics[width=15cm]{imagens/android.png}
\caption{Versões Android} 
\label{fig:versoesAndroid}
\end{figure}

A Figura \ref{fig:versoesAndroid} representam os dados coletados durante um período de 7 dias encerrado em 1º de agosto de 2016. Todas as versões com menos de 0,1 por cento de distribuição não foram exibidas.

Baseado no Linux, o sistema operacional Android teve seu desenvolvimento iniciado em 2003 pela empresa Android Inc. Em 2005, esta foi adquirida pelo Google, que hoje lidera o desenvolvimento do Android \cite{monteirogoogle}.

\section{Doze-fatores}
\label{sec:dozeFatores}
Na era moderna, software é comumente entregue como um serviço: denominados web apps, ou software-como-serviço. A aplicação doze-fatores é uma metodologia para construir softwares-como-serviço que:
\begin{enumerate}
\item Usam formatos declarativos para automatizar a configuração inicial, minimizar tempo e custo para novos desenvolvedores participarem do projeto;
\item Tem um contrato claro com o sistema operacional que o suporta, oferecendo portabilidade máxima entre ambientes que o executem;
\item São adequados para implantação em modernas plataformas em nuvem, evitando a necessidade por servidores e administração do sistema;
\item Minimizam a divergência entre desenvolvimento e produção, permitindo a implantação contínua para máxima agilidade;
\item E podem escalar sem significativas mudanças em ferramentas, arquiteturas, ou práticas de desenvolvimento.
\end{enumerate}
A metodologia doze-fatores pode ser aplicada a aplicações escritas em qualquer linguagem de programação, e que utilizem qualquer combinação de serviços de suportes (banco de dados, filas, cache de memória, etc) \cite{projeto:twelveFactor}.

\section{Versionamento Semântico 2.0.0}
\label{sec:versionamentoSemantico}

No mundo de gerenciamento de software existe algo terrível conhecido como inferno das dependências \textit{("dependency hell")}. Quanto mais o sistema cresce, e mais pacotes são adicionados a ele, maior será a possibilidade de, um dia, você encontrar-se neste poço de desespero.

Em sistemas com muitas dependências, lançar novos pacotes de versões pode se tornar rapidamente um pesadelo. Se as especificações das dependências são muito amarradas você corre o risco de um bloqueio de versão (A falta de capacidade de atualizar um pacote sem ter de liberar novas versões de cada pacote dependente). Se as dependências são vagamente especificadas, você irá inevitavelmente ser mordido pela 'promiscuidade da versão' (assumindo compatibilidade com futuras versões mais do que é razoável). O inferno das dependências é onde você está quando um bloqueio de versão e/ou promiscuidade de versão te impede de seguir em frente com seu projeto de maneira fácil e segura.

Como uma solução para este problema utilizo um conjunto simples de regras e requisitos que ditam como os números das versões são atribuídos e incrementados.

Dado um número de versão \textit{MAJOR.MINOR.PATCH}, incremente a:
\begin{enumerate}
\item Versão Maior\textit{(MAJOR)} quando fizer mudanças incompatíveis na \textit{API};
\item Versão Menor\textit{(MINOR)} quando adicionar funcionalidades mantendo compatibilidade;
\item Versão de Correção\textit{(PATCH)} quando corrigir falhas mantendo compatibilidade.
\end{enumerate}

Rótulos adicionais para pré-lançamento(pre-release) e metadados de construção(build) estão disponíveis como extensão ao formato \textit{MAJOR.MINOR.PATCH} \cite{projeto:versionamentoSemantico} / \cite{projeto:prestonWerner}.

\section{Web service RestFul}
\label{sec:webService}

\textit{Web service} é uma tecnologia de acesso a dados que permite a troca de informações estruturada a partir de mensagens XML e SOAP. Esta tecnologia permite que diferentes empresas, mesmo utilizando tecnologias e plataformas distintas, conectem-se de maneira padrão e executem procedimentos remotos através da utilização do protocolo padrão da internet - HTTP. 

O uso do \textit{Web service} é muito interessante, pois permite acesso a rotinas de vairas empresas e com informações de tempo real visto que estas podem mudar o tempo todo.

Os \textit{web services} podem ser implementados de muitas maneiras diferentes, cada uma com vantagens e desvantagens próprias da solução técnica adotada. Em sistemas desenvolvidos se utilizando a linguagem Java existem duas soluções, que na documentação da Oracle são denominadas como \textit{Big Web Services} e \textit{RESTful Web Services}. Tanto os \textit{web services Big} quanto os \textit{RESTful} fazem parte da \textit{API} Java para XML (Java API for XML - JAX), que foi introduzida ao Java SE na versão 5.
 
Os \textit{web services RESTful} Transferência de Estado Representacional \textit{Representational State Transfer} são mais adequados para a utilização em cenários mais básicos, e também são melhor adaptados ao uso do protocolo HTTP do que os serviços \textit{SOAP}. Os serviços \textit{RESTful} são mais leves, o que significa que podem ser desenvolvidos com menor esforço, tornando-os mais fáceis de serem adotados como parte da implementação de um sistema. São mais indicados para a integração de sistemas através da internet, conferindo às soluções qualidades como escalabilidade, simplicidade e baixo acoplamento entre as partes.

\subsection{Cliente-Servidor}
\label{subsec:clienteServidor}
Clientes e servidores são separados por uma interface por razões de interesses, isto significa que o cliente não implica em como os dados são armazenados pois é uma responsabilidade interna do servidor, assim como os servidores não se importam com a interface do usuário.

\begin{figure}[h]
\centering
\includegraphics[width=15cm]{imagens/clienteServidor.png}
\caption{Cliente-Servidor} 
\label{fig:clienteServidor}
\end{figure}

A Figura \ref{fig:clienteServidor} representa o associação entre o cliente e o servidor. Por ela podemos observar que o cliente é agregado ao servidor, ou seja, o servidor não é um dependente do cliente, que por sua vez, é totalmente dependende do servidor, qualquer alteração no serviço pode interferir no funcionamento dos clientes.

\subsection{Stateless}
\label{subsec:clienteServidor}
É um importante conceito em relação aos elementos do estilo desta arquitetura. Representa uma restrição as interações entre o cliente e o servidor, a comunicação será \textit{client-stateless-server (CSS)}, isto significa que para cada requisição será enviada toda informação necessaria para o entendimento da requisição e não poderá re-utilizar nenhum contexto armazenado no servidor.

\begin{figure}[h]
\centering
\includegraphics[width=12cm]{imagens/clienteServidorStateless.png}
\caption{Cliente-Stateless-Server} 
\label{fig:clienteServidor}
\end{figure}

Toda requisição deve ser auto-suficiente e você deve manter o estado da sessão no cliente. Com este conceito você tem alguns beneficios, tais eles como:

\textbf{Visibilidade}
O pacote de requisição de dados contém todas as informações necessarias para responder a solicitação, diminuindo o trabalho do servidor.

\textbf{Confiabilidade}
É melhorada porque facilita a tarefa de recuperação de falhas.

\textbf{Escalabilidade}
Não há necessidade de manter o estado das solicitações, permitindo que o servidor se livre dos recursos alocados rapidamente e ainda simplificando a implementação \cite{projeto:restArchStyle} / \cite{projeto:royTomasFielding}.