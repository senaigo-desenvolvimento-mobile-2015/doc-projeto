\chapter{Proposta}
\label{sec:proposta}
Esta seção tem por objetivo demonstrar o uso da Fundamentação teorica apresentada na Seção\ref{cap:fundamentacaoTeorica}. Assim, de maneira prática, apresentaremos o uso da Engenharia de Software na construção de um sistema computacional denominado \nomeTrabalho .

\section{Requisitos de Software}
\label{requisitosSoftware}
Os requisitos de software descrevem explicitamente as funcionalidades e serviços do sistema. O requisitos funcionais são responsaveis por conjunto de entradas, seu comportamento e sua saída, ou seja, envolve cálculos, lógicas de trabalho, manipulação e processamento de dados, entre outros. As subseções asseguir descrevem os requisistos funcionais da sistema cliente Web versão WEB.

\subsection{RF01 - Autenticação}
\label{requisito:autenticacao}
O sistema deve possuir uma tela para a autenticação de seus usuários.
\begin{enumerate}
\item Somente usuários autorizados devem acessar o sistema;
\item Um usuário deve possuir um senha para realizar o acesso;
\item Pessoas não autenticadas não podem ter acesso ao sistema.
\item Campos obrigatórios:
\begin{enumerate}
\item Código numérico auto incremental
\item Usuário;
\item Senha.
\end{enumerate}
\end{enumerate}

\subsection{RF02 - Peça}
\label{requisito:peca}
Centros automotivos podem ou não realizar a venda de peças que farão parte dos serviços prestados.
\begin{enumerate}
\item As peças persistidas deverão ser apresentadas em uma listagem para o usuário;
\item A listagem deve possuir um campo para busca de uma peça.
\item Pela listagem deve ser possível:
\begin{enumerate}
\item Acessar o formulário para cadastro de uma nova peça;
\item Atualizar a listagem com os dados mais recentes;
\item Filtrar por peças ativas ou inativas;
\item Acessar o formulário para edição;
\item Possibilitar a inativação através do clique em um botão. O usuário deverá confirmar essa ação;
\item A exclusão não deve ser física, apenas lógica, ou seja, a funcionalidade excluir deve inativar o item não excluí-lo do banco de dados.
\end{enumerate}
\item Campos obrigatórios:
\begin{enumerate}
\item Código numérico auto incremental
\item Referência;
\item Descrição.
\end{enumerate}
\item Campos opcionais:
\begin{enumerate}
\item Modelo;
\item Valor sugerido para a venda;
\item Observações.
\end{enumerate}
\end{enumerate}

\subsection{RF03 - Serviço}
\label{requisito:servico}
Centros automotivos podem ou não realizar a prestação de um serviço.
\begin{enumerate}
\item Os serviços persistidos deverão ser apresentados em uma listagem para o usuário;
\item A listagem deve possuir um campo para busca de um serviço;
\item Pela listagem deve ser possível:
\begin{enumerate}
\item Acessar o formulário para cadastro de um novo serviço;
\item Atualizar a listagem com os dados mais recentes;
\item Filtrar por serviços ativos ou inativos;
\item Acessar o formulário para edição;
\item Possibilitar a inativação através do clique em um botão. O usuário deverá confirmar essa ação.
\item A exclusão não deve ser física, apenas lógica, ou seja, a funcionalidade excluir deve inativar o item não excluí-lo do banco de dados.
\end{enumerate}
\item Campos obrigatórios:
\begin{enumerate}
\item Código numérico auto incremental
\item Referência;
\item Descrição.
\end{enumerate}
\item Campos opcionais:
\begin{enumerate}
\item Valor sugerido para a venda;
\item Observações.
\end{enumerate}
\end{enumerate}

\subsection{RF04 - Cliente}
\label{requisito:cliente}
Centros automotivos podem ou não realizar o cadastro de seus clientes. Um cliente pode possuir um ou mais veículos, pode possuir um ou mais telefones e e-mail.
\begin{enumerate}
\item No formulário, o usuário poderá optar por cadastrar os veículos, um ou mais, do cliente com as informações básicas obrigatórias do castro de veículo \ref{requisito:veiculo};
\item Os clientes persistidos deverão ser apresentados em uma listagem para o usuário;
\item A listagem deve possuir um campo para busca de um cliente;
\item Pela listagem deve ser possível:
\begin{enumerate}
\item Visualizar um ícone que representará quais clientes possuem o aplicativo;
\item Acessar o formulário para cadastro de um novo cliente;
\item Atualizar a listagem com os dados mais recentes;
\item Filtrar por clientes ativos ou inativos;
\item Acessar o formulário para edição;
\item Possibilitar a inativação através do clique em um botão. O usuário deverá confirmar essa ação.
\item A exclusão não deve ser física, apenas lógica, ou seja, a funcionalidade excluir deve inativar o item não excluí-lo do banco de dados.
\end{enumerate}
\item Campos obrigatórios:
\begin{enumerate}
\item Código numérico auto incremental
\item Nome;
\item Documento.
\end{enumerate}
\item Campos opcionais:
\begin{enumerate}
\item Lista de telefones onde podem ser indicados os principais;
\item Lista de e-mais onde podem ser indicados os principais;
\item Observações.
\end{enumerate}
\end{enumerate}

\subsection{RF05 - Veículo}
\label{requisito:veiculo}
Centros automotivos devem realizar o cadastro de um veículo que devem pertecer a um cliente.
\begin{enumerate}
\item Um veículo pertence exclusivamente a um cliente, porém, ao longo do tempo, poderá ser alterado para outro cliente;
\item O histórico de manutenção do veículo não deverá ser perdido quando ocorrer a mundança de cliente;
\item Os veículos persistidos deverão ser apresentados em uma listagem para o usuário;
\item A listagem deve possuir um campo para busca de um veículo;
\item Pela listagem deve ser possível:
\begin{enumerate}
\item Acessar o formulário para cadastro de um novo veículo;
\item Atualizar a listagem com os dados mais recentes;
\item Filtrar por veículos ativos ou inativos;
\item Acessar o formulário para edição;
\item Possibilitar a inativação através do clique em um botão. O usuário deverá confirmar essa ação.
\item A exclusão não deve ser física, apenas lógica, ou seja, a funcionalidade excluir deve inativar o item não excluí-lo do banco de dados.
\end{enumerate}
\item Campos obrigatórios:
\begin{enumerate}
\item Código numérico auto incremental
\item Cliente;
\item Placa;
\item Modelo.
\end{enumerate}
\item Campos opcionais:
\begin{enumerate}
\item Fabricante;
\item Ano/modelo;
\item Cor;
\item Observações.
\end{enumerate}
\end{enumerate}


\subsection{RF06 - Orçamento}
\label{requisito:orcamento}
O orçamento servirá para a avaliação ou cálculo especulativo para o cliente sobre os custos das peças e/ou serviços a serem prestados no centro automotivo.
\begin{enumerate}
\item Um Orçamento pode ou não ser convertido em ordem de serviço;
\item Devem possuir 15 dias de validade, que deverá ser contabilizada à partir da data de seu cadastro;
\item Após o vencimento, fim da data de validade, o orçamento não poderá ser reaberto e deverá ser automaticamente cancelado;
\item Itens Peças e/ou Serviços ver: \ref{requisito:itensOrcamentoOrdemDeServico}
\item Impressão em arquivo pdf do espelho do orçamento contendo data de validade, informações do cliente, peças, serviços e totalizadores;
\item Resumo do orçamento que deverá listar o valor total, desconto e subtotal das peças e serviços;
\item Opção para aplicar desconto geral no orçamento que deverá ser calculado em reais ou porcentagem;
\item Apresentar o valor total para o usuário, somatorio dos itens vezes suas quantidades menos o desconto;
\item Ao se alterar um item, seja peça ou serviço, o valor deve ser calculado e apresentado instantaneamente ao cliente;
\item O orçamento pode ser consolidado em uma ordem de serviço;
\item Os orçamentos persistidos deverão ser apresentados em uma listagem para o usuário;
\item A listagem deve possuir os campos de fitro por nome do cliente, placa do veículo e código do orçamento;
\item Pela listagem deve ser possível:
\begin{enumerate}
\item Acessar o formulário para cadastro de um novo orçamento;
\item Atualizar a listagem com os dados mais recentes;
\item A listagem deve apresentar os orçamentos por ordem de validade e diferenciar a cor de acordo com a proximidade:
\begin{enumerate}
\item Verde para mais de sete dias;
\item Amarelo entre três e sete dias;
\item Vermelho entre zero e três dias;
\item Cinza vencidos, apresentá-los na listagem de inativos;
\item Azul consolidados, apresentá-los na listam de consolidados.
\end{enumerate}
\item Filtrar por orçamentos ativos, consolidados ou cancelados;
\item Acessar o formulário para edição;
\item Possibilitar o cancelamento através do clique em um botão. O usuário deverá confirmar essa ação.
\item A cancelamento não deve ser física, apenas lógica, ou seja, quando cancelado, para fins de histórico o orçamento deve ser inativado, não excluido do banco de dados;
\item Quando cancelado, um orçamento não pode ser reaberto as únicas opções devem ser a de visualização e impressão.
\end{enumerate}
\item Campos obrigatórios:
\begin{enumerate}
\item Código numérico auto incremental
\item Veículo;
\end{enumerate}
\item Campos opcionais:
\begin{enumerate}
\item Km atual do veículo;
\item Observações.
\item Itens:
\begin{enumerate}
\item Relação de peças;
\item Relação de serviços.
\end{enumerate}
\end{enumerate}
\end{enumerate}

\subsection{RF07 - Ordem de Serviço}
\label{requisito:ordemDeServico}
A ordem de serviço é um documento que tem a função de definir as peças e serviços, suas quantidades e respectivos valores a respeito do que precisa ser efetuado no veículo do cliente do centro automotivo. Serve como um contrato entre o cliente e o centro automotivo. Permite ao cliente comprovar todo o histórico de manutenção de seus veículos.

\begin{enumerate}
\item Deve possuir uma data prevista para finalização;
\item Status que identificará seu estágio atual:
\begin{enumerate}
\item Em andamento indica que está em andamente dentro do prazo de validade;
\item Atrasado indica que está em andamento, porém, a data prevista para a finalização foi ultrapassada;
\item Renegociado indica que está em andamento, porém a data prevista para a finalização foi ultrapassada mas houve uma renegociação com o cliente prevendo uma nova data;
\item Retrabalho indica que foi finalizada porém teve que ser reaberta para uma nova intervensão;
\item Cancelado indica o cancelamento;
\item Finalizado o trabalho foi finalizado.
\end{enumerate}
\item Um histórico dos estágios da ordem de serviço deve ser apresentado no formulário;
\item Itens Peças e/ou Serviços \ref{requisito:itensOrcamentoOrdemDeServico}
\item Impressão em arquivo pdf do espelho do orçamento contendo data de validade, informações do cliente, peças, serviços e totalizadores;
\item Resumo da ordem de serviço que deverá listar o valor total, desconto e subtotal das peças e serviços;
\item Opção para aplicar desconto geral no orçamento que deverá ser calculado em reais ou porcentagem;
\item Apresentar o valor total para o usuário, somatorio dos itens vezes suas quantidades menos o desconto;
\item Ao se alterar um item, seja peça ou serviço, o valor deve ser calculado e apresentado instantaneamente ao cliente;
\item As ordens de serviços persistidas deverão ser apresentados em uma listagem para o usuário;
\item A listagem deve possuir os campos de fitro por nome do cliente, placa do veículo e código da O.S.;
\item Pela listagem deve ser possível:
\begin{enumerate}
\item Acessar o formulário para cadastro de uma nova O.S.;
\item Atualizar a listagem com os dados mais recentes;
\item A listagem deve apresentar as O.S. por ordem de previsão e diferenciar a cor de acordo com a proximidade:
\begin{enumerate}
\item Verde para dentro do prazo;
\item Amarelo próximo do prazo de validade;
\item Vermelho após o prazo de validade;
\item Cinza cancelados, apresentá-los na listagem de cancelado;
\item Azul finalizados, apresentá-los na listam de finalizados.
\end{enumerate}
\item Filtrar por ativos, finalizados ou cancelados;
\item Acessar o formulário para edição;
\item Possibilitar o cancelamento através do clique em um botão. O usuário deverá confirmar essa ação.
\item A cancelamento não deve ser física, apenas lógica, ou seja, quando cancelado, para fins de histórico o orçamento deve ser inativado, não excluido do banco de dados;
\item Quando cancelado, não pode ser reaberto as únicas opções devem ser a de visualização e impressão;
\item Quando finalizado, uma opção para reabertura da O.S. deve estar disponível;
\end{enumerate}
\item Campos obrigatórios:
\begin{enumerate}
\item Código numérico auto incremental;
\item Veículo;
\item Data entrada, deve ser preenchida automaticamente.
\end{enumerate}
\item Campos opcionais:
\begin{enumerate}
\item Km atual do veículo;
\item Data e hora prevista;
\item Data e hora da saída;
\item Observações.
\item Itens:
\begin{enumerate}
\item Relação de peças;
\item Relação de serviços.
\end{enumerate}
\end{enumerate}
\end{enumerate}

\subsection{RF08 - Itens Orçamentos e Ordens de Serviço}
\label{requisito:itensOrcamentoOrdemDeServico}

\subsection{RF09 - Aviso}
\label{requisito:aviso}

\subsection{RF10 - Dashboard - Painel de indicadores}
\label{requisito:indicadores}

Contudo, um sistema deve também atender a requisitos que não são necessariamente regras do negócio do Software. Assim, de nada adianta ter um sistema seguro, interativo e confiável se ele consome muitos recursos do computador e demora para executar a suas rotinas internas. Um sistema lento é alvo de crítica dos usuários, mesmo que seja funcional. A \textit{performance} do software pode ser melhorada utilizando técnicas de programação orientada a objetos, gerenciamento de memória, \textit{threads} e otimização de código.
  
Dessa forma, foram definidos os seguintes Requisitos Não-Funcionais do sistema proposto, que podem ser observados na Tabela

\ref{tabelaRequisitosNaoFuncionais}.

\begin{table}[htp]
\centering
\caption{Lista de Requisitos Não Funcionais WEB}
\resizebox{14.0cm}{!} {
\begin{tabular}{|c|c|p{150}|}\hline

Cod. Requisito	 & Nome  & Descrição\\ \hline
RNF01 &	O tempo de execução & O sistema deverá verificar se o usuário esta mais de 4 minutos logado sem nenhuma ação, o sistema devera após devera emitir um alerta de inativade.
\\ \hline
RNF02 & O sistema operacional do sistema & O sistema deverá ser acessado por varios tipos de sistemas operacionais ao mesmo tempo.
\\\hline
RNF03 &	O desenvolvimento do sistema & O sistema deverá ser desenvolvido ele toda em linguagem de programação JavaScript, HTML, CSS
\\ \hline
RNF04 &	Banco de dados do sistema & O sistema devera se comunicar com o Banco de Dados PostgreSQL
 \\ \hline
RNF05 &	Intregação com outro sistema & O sistema deverá ser feito que possibilite a intregração com outro sistema.
 \\ \hline
RNF06 &	O sistema deverá ter alta disponibilidade & O sistema deverá ter alta disponibilidade, por exemplo 99\% do tempo.
\\ \hline
RNF07 &	Tempo de processamento & O sistema deverá processo N requisições por um determinado tempo.
\\ \hline
RNF08 &	Confiabilidade & O sistema não deverá apresentar aos usuários quaisquer dados de cunho privativo.
\\ \hline
\end{tabular}
}
\label{tabelaRequisitosNaoFuncionais}
\end{table}

\section{Mapa Mental}
\label{sec:mapaMental}

Um mapa mental é um diagrama que se elabora para representar ideias, tarefas ou outros conceitos que se contram relacionados com uma palavra-chave ou uma ideia central, e cujas informações relacionadas em si são irradiadas.

A sua principal função é geração, visualização e classificação taxonómica de ideias, pelo que serve de ajuda para o estudo, a organização de informações, a tomada de decisões e a escrita. Num mapa mental, os elementos são incluidos de forma intuitiva de acordo com a importancia dos conceitos, embora se organizem nos grupos, nos ramos ou nas áreas. Segundo especialistas, este tipo de representação gráfica auxilia a memória. Em um mapa mental, é recomendado utilizar um mínimo de palavras e iniciar a tarefa sempre no centro da folha, onde se coloca portanto a ideia central. Abaixo ilustração do mapa mental do sistema.

%Incluir Mapa Global
%\begin{figure}[H]
%\centering
%\includegraphics[width=15cm]{imagens/MapaMentalGlobal.png}
%\includegraphics[scale=0.50]{imagens/MapaMentalGlobal.png}
%\caption{ Mapa Mental do sistema computacional desenvolvido}
%\label{Mapa Mental do sistema computacional desenvolvido}
%\label{fig:MapaMentalGlobal}
%\end{figure}

%Como é possivel observar através da Figura \ref{fig:MapaMentalGlobal}, o sistema e constituido por repartições, que se comunicam entre elas. Abaixo temos o mapa mental do sistema Fatesg-API no qual tem a finalidade de interligar as demais repartições do sistema

%\begin{figure}[H]
%\centering
%\includegraphics[width=15cm]{imagens/MapaMentalFatesgApi.png}
%\includegraphics[scale=0.50]{imagens/MapaMentalApi.png}
%\caption{ Mapa Mental do sistema Fatesg-API}
%\label{Mapa Mental do sistema Fatesg-API desenvolvido}
%\end{figure}

%O modulo do Corporatum da a possibilidade de realizar vários tipos de cadastros, cadastros que são possíveis de se realizar e o que pode ser informado em cada um deles, cadastro de matriz, cadastro de instituição, cadastro de unidade de ensino, cadastro de curso, cadastro de colaborador, cadastro de aluno, cadastro de disciplina, cadastro de plano de ensino, cadastro de cronograma de aulas e cadastro de avaliações. Esses cadastros servirão de base para outros modulos.

%\begin{figure}[H]
%\centering
%\includegraphics[width=15cm]{imagens/MapaMentalCorporatum.png}
%\includegraphics[scale=0.50]{imagens/MapaMentalCorporatum.png}
%\caption{ Mapa Mental do sistema Corporatum}
%\label{Mapa Mental do sistema Corporatum desenvolvido}
%\end{figure}

%O modulo Sgpe tem a finalidade de gestão e elaboração de provas em instituição de ensino. Contará com a parte de cadastro e elaboração de prova e gerenciamento de questões. A principal função do sistema será na elaboração da prova, no qual possibilita recolhimento de questões elaboradas pelos docentes, sendo depois armazenadas em um banco de dados para que o coordenador de curso realize o procedimento de elaboração da prova. 

%\begin{figure}[H]
%\centering
%\includegraphics[width=15cm]{imagens/MapaMentalSgep.png}
%\includegraphics[scale=0.50]{imagens/MapaMentalSgep.png}
%\caption{ Mapa Mental do sistema Sgpe}
%\label{Mapa Mental do sistema Sgep desenvolvido}
%\end{figure}

%O modulo Estagio tem por finalidade ser um sistema computacional para a melhoria do processo de gestão de estágio, agilizar os processos de estágio, fazer controle de todo o processo de cadastro das empresas, divulgação das vagas de estágio, seleção dos alunos aptos a participarem do processo seletivo, matrícula dos alunos no programa de estágio e também possibilitar todo o processo de avaliação do desempenho do aluno no estágio, gerar relatórios que se fazerem necessários. Além das funcionalidades descritas acima, o sistema terá também a construção de um banco de dados com todas as informações referente ao estágio que posteriormente poderá ser consultado. O mapa mental a seguir não demonstra as funcionaliades do sistema devido que o mesmo será desenvolvido em trabalhos futuros.

%\begin{figure}[H]
%\centering
%\includegraphics[width=15cm]{imagens/MapaMentalEstagio.png}
%\includegraphics[scale=0.50]{imagens/MapaMentalEstagio.png}
%\caption{Inicio do desenvolvimento do mapa mental do sistema Estagio}
%\label{Mapa Mental do sistema Estagio}
%\end{figure}

%O modulo TCC tem a finalidade de ajudar no processo de Trabalho de Conclusão de Curso(TCC) agilizando os processos, fazendo controle de todo processo de inscrição junto a instiuição, designando orientadores de acordo com os requisistos do discente, consulta de trabalhos arquivados entre outras funções a serem analisadas. O mental a seguir não demonstra as funcionaliades do sistema devido que o mesmo será desenvolvido em trabalhos futuros.

%\begin{figure}[H]
%\centering
%\includegraphics[width=15cm]{imagens/MapaMentalTcc.png}
%\includegraphics[scale=0.50]{imagens/MapaMentalTcc.png}
%\caption{Inicio do desenvolvimento do mapa mental do sistema TCC}
%\label{Mapa Mental do sistema TCC}
%\end{figure}

\section{Design do Software}
\label{sec:arquitetura}

O sistema pode ser acessado via internet pelo navegador web por rodar em um servidor que pode ser acessado de qualquer lugar do mundo via WWW (World Wide Web). A escolha da arquitetura orientada Web permite que varias maquinas acessem um abiente centralizado como mostra a figura.

%\begin{figure}[H]
%\centering
%\includegraphics[scale=0.40]{imagens/ModeloSistemaWeb.png}
%\caption{Modelo Sistema Web }
%\label{Modelo Sistema Web }
%\end{figure}
%colar a fugura aqui

Nessa estrutura, o navegador web e responsavel pela interpretação da linguagem HTML(Hyper Text Markup Language) que envia requisições dos dados quanto ao lado do provedor de dados. Esse protocolo  é chamado de HTTP(Hyper Text Transfer Protocol).

No lado do provedor de dados, o servidor, está toda a complexidade do sistema em si onde são determinadas as questões como regras de negocio, requesitos como segurança e armazanamento de banco de dados.

Uma grande vantagem do sistema para web é sua facil portabilidade, podendo migrar de ambiente pra outro sem a necessidade de muita configuração pós mudança.

%Já o design de software trata dos componetes interno do sistema, que inclui o funcionamento dos sistema CORPORATUM e SGEP. Abaixo segue o diagrama de componentes dessa estrutura.

%\begin{figure}[H]
%\centering
%\includegraphics[scale=0.33]{imagens/SistemaSgepCorporatum.png}
%\caption{Arquitetura de software }
%\label{Modelo Sistema Web }
%\label{fig:SistemaSgepCorporatum}
%\end{figure}

%A API define um conjunto de classes que será comum para os demais modulos, como o Corporatum e o SGEP. O Modulo Corporatum concentra em cadastrar e manter os dados corporativos e também fornece mecanismos de acesso remoto para que outros sistemas consultem seus serviços através do WebService. O Modulo SGEP é responsável por cadastrar e manter um banco de questões,  bem como modelos de provas pré-cadastrados e gerar provas. O SGEP consome o WebService fornecido pelo Corporatum, obtendo dados já cadastrados e mantendo-os em sua base de dados. A figura \ref{fig:SistemaSgepCorporatum} pode-se identificar a iteração entre os componentes de cada modulo dos sistemas, componentes estes que serão demonstrados no Cap. \ref{sec:frameworksFerramentasAdotadas}
%%% colocar aqui imagem do sistemas se comunicando
